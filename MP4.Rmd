---
title: "MP4"
author: "Elisabeth Laviolette and Jaan Selod"
date: "2024-04-20"
output: html_document
bibliography: BIOL5380
---

```{r setup, include=FALSE}
library(tidyverse)
library(knitr)
```

# Introduction:

# Methods:

Wings were traced from good-quality images using SketchUpWeb, and proportioned such that the span approximated 60 mm and the thickness 2.5 mm. Wing measurements were made using the ruler and shape info features in SketchUp. Wetted area corresponds to the area of the wing contacting the airflow, or the product of span and thickness. The wings were subsequently 3D-printed and attached to a standard body model. 

# Results:

```{r load}
turdidae <- read.csv("Gerjarusak_Laviolette_Selod_bluebird.csv")
falconidae <- read.csv("Gerjarusak_Laviolette_Selod_falcon.csv")
```

```{r measures}
dat <- read.csv("measures.csv") %>%
  mutate(totarea = span_mm*chord_mm) %>%
  mutate(aspratio = ((span_mm/1000)**2)/(wetarea/(10^6)))
kable(dat, caption = "Table 1: Wing Model Measurements")
```

```{r calcs_forces}
lift_avg_turdidae <- mean(turdidae$lift)
lift_avg_falconidae <- mean(falconidae$lift)

drag_avg_turdidae <- mean(turdidae$drag)
drag_avg_falconidae <- mean(falconidae$drag)

forces <- tibble(
  family = c("turdidae", "falconidae"),
  lift_avg = c(lift_avg_turdidae, lift_avg_falconidae),
  drag_avg = c(drag_avg_turdidae, drag_avg_falconidae)
)

dat <- dat %>%
  left_join(forces)

kable(dat, caption = "Table 2: Complete Data with Average Lift and Drag Forces")
```

```{r coeffcalcs}
dat <- dat %>%
  mutate(Cd = (drag_avg/(0.5*1000*(0.16**2)*totarea*(10^-6)))) %>%
  mutate(Cl = (lift_avg/(0.5*1000*(0.16**2)*totarea*(10^-6))))

coeffs <- dat %>%
  mutate(ClCd_ratio = Cl/Cd) %>%
  select(family, Cd, Cl, ClCd_ratio)

kable(coeffs, caption = "Table 3: Drag and Lift Coefficients")

```

```{r classdat}
classdat <- read.csv("class_data.csv", stringsAsFactors = T)

classdat %>%
  ggplot(aes(x=AR, y=ClCd, color=bird)) + geom_point() + geom_smooth(method = "lm", col="red") + theme_minimal() + ggtitle("Figure 1: Class Data of Aspect Ratio versus Lift Ratio") + xlab("Aspect Ratio") + ylab("Lift Ratio, Cl/Cd") + labs(col = "Bird Common Species Name")

```

# Discussion:

Figure 1 clearly shows a positive relationship between aspect ratio and lift ratio across the class data. A higher aspect ratio is thus associated with a higher lift ratio, and so in turn with a larger lift coefficient compared to the drag coefficient. From Table 1, we can see that Falconidae has the higher aspect ratio compared to Turdidae, and as expected in terms of lift ratios, Falconidae has the higher ratio (Table 3). 

# Bibliography: